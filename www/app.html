<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MapLarge App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css">
    <link rel="stylesheet" href="/css/app.css">
    <!--
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    -->
</head>
<body>

    <section class="section">
        <article class="container">

            <div id="maplarge-app">

                <h1 class="title">Hello App!</h1>

                <div class="dropdown OFF-is-active">
                    <div class="dropdown-trigger">
                        <button class="clickme-to_toggle_readme button is-warning is-medium" aria-haspopup="true" aria-controls="dropdown-menu2">
                            <span>README</span>
                        </button>
                    </div>
                    <div id="dropdown-readme" class="dropdown-menu" id="dropdown-menu2" role="menu">
                        <div class="dropdown-content">
                            <div class="dropdown-item">
                                <p>Click 'README' to close this pop-up</p>
                            </div>
                            <hr class="dropdown-divider">
                            <div class="dropdown-item demo_home_paths">
                                <p>For demo purposes, the following four home paths can be used. Click 'edit' under Home Folder and copy/paste one of these paths...</p>
                                <ul>
                                    <li>/home/public/folderA</li>
                                    <li>/home/public/folderB</li>
                                    <li>/home/public/foo</li>
                                    <li>/home/public/john</li>
                                </ul>

                            </div>
                            <hr class="dropdown-divider">
                            <div class="dropdown-item">
                                <p>Click on a link in navigator panel on left to go to that folder or file.</p>
                                <br />
                                <p>The right panel will show information about the current location, plus any relevant operations (download for file, upload for a folder, etc).</p>
                                <br />
                                <p style="color:red">The following are not yet implemented: move, copy, delete. Also there is a known bug when selecting a file: the parent folder does not update correctly.</p>
                            </div>
                        </div>
                    </div>
                </div>
        
                <!-- ++++++++++++++++++++++++++++++++++++++++++++ -->

                <section id="widget-2" class="widget">

                    <h2 class="subtitle is-4">Widget 1</h2>

                    <article class="columns">

                        <div class="crate-navigation column">

                            <h5 class="subtitle is-5">Navigation</h6>

                            <div class="content">

                                <div class="crate-parent">
                                    <p>Parent:</p>
                                    <span class="parent"></span>
                                </div>

                                <p class="">Current: <span id="val-current"></span></p>
                                <a class="clickme-to_search">[Search Current]</a>

                                <form class="form-search tag-hidden">
                                    <div class="field is-grouped">
                                        <p class="control is-expanded">
                                            <input class="input" type="text" name="q" placeholder="Find a file...">
                                        </p>
                                        <p class="control">
                                            <button type="submit" class="button is-info">Search</button>
                                            <button type="button" class="button is-light clickme-to_cancel">Cancel</button>
                                        </p>
                                    </div>
                                </form> 

                                <div class="children"></div> <!-- list of child nodes -->

                                <div class="search-results"></div> <!-- list of nodes -->

                            </div>

                        </div>

                        <div class="crate-info column">

                            <h5 class="subtitle is-5">Home Folder</h5>
                            <div class="subcrate-root">
                                <div class="root-path">
                                    <span class="show-val"></span> | <a href="#" class="clickme-to_edit">Edit</a>
                                </div>
                                <form class="form-edit_root tag-hidden">
                                    <label class="label">Set root path</label>
                                    <div class="field is-grouped">
                                        <p class="control is-expanded">
                                            <input class="input" type="text" name="rootpath" placeholder="Enter path...">
                                        </p>
                                        <p class="control">
                                            <button type="submit" class="button is-info">Save</button>
                                            <button type="button" class="button is-light clickme-to_cancel">Cancel</button>
                                        </p>
                                    </div>
                                </form> 
                            </div>

                            <hr />

                            <h5 class="subtitle is-5">Data</h5>
                            <div class="meta"></div>

                            <hr />

                            <h5 class="subtitle is-5">Ops</h5>
                            <div class="subcrate-upload">
                                <form class="form-upload_file tag-hidden">
                                    <label class="label">Upload File to Current Folder</label>
                                    <div class="field is-grouped">
                                        <p class="control is-expanded">
                                            <input class="input" type="file" name="file" id="file_to_upload">
                                        </p>
                                        <p class="control">
                                            <button type="submit" class="button is-info">Upload</button>
                                            <button type="button" class="button is-light clickme-to_cancel">Cancel</button>
                                        </p>
                                    </div>
                                </form> 
                            </div>
                        </div>
                    </article>

                </section>


            </div> <!-- #maplarge-app -->

        </div> <!-- container -->
    </section>

    <!-- ======================================================= -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/libs/utils.js"></script>
<script src="/js/libs/Node.js"></script>
<script src="/js/libs/Navigator.js"></script>
<script src="/js/libs/Searchtool.js"></script>
<script src="/js/libs/Uploader.js"></script>
<script src="/js/libs/Rootinit.js"></script>
<script src="/js/libs/BrowserApp.js"></script>
<!--
<script src="/js/libs/Nav3.js"></script>
-->

<script type="text/javascript">

$( document ).ready(function() {

    var app = BrowserApp();
    app.init();

    $(document).on('click', '.clickme-to_toggle_readme', function(e) {
        $('#dropdown-readme').toggle();
    });

});
</script>

</body>
</html>
